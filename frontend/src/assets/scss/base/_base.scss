// ===================================
// Base Styles
// ===================================

// 1. Document
// ==========================

// Set box-sizing globally
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

// 1. Set default font family to sans-serif
// 2. Prevent iOS and IE text size adjust after device orientation change
// 3. Set default line height
// 4. Set default text color
// 5. Set default background color
// 6. Enable smooth scrolling for better UX
html {
  font-family: $font-family-sans; // 1
  -webkit-text-size-adjust: 100%; // 2
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: $line-height-base; // 3
  color: $text-color; // 4
  background-color: $body-bg; // 5
  scroll-behavior: smooth; // 6
}

// 1. Remove the margin in all browsers
// 2. Set default font family and size
// 3. Prevent adjustments of font size after orientation changes in iOS
body {
  margin: 0; // 1
  font-family: $font-family-sans;
  font-size: $font-size-base;
  font-weight: $font-weight-normal;
  line-height: $line-height-base;
  color: $body-color;
  text-align: left; // 3
  background-color: $body-bg;
  -webkit-text-size-adjust: 100%; // 2
  -webkit-tap-highlight-color: rgba($black, 0);
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

// 2. Typography
// ==========================

// Remove top margins from headings
h1, h2, h3, h4, h5, h6 {
  margin-top: 0;
  margin-bottom: $headings-margin-bottom;
  font-family: $headings-font-family;
  font-weight: $headings-font-weight;
  line-height: $headings-line-height;
  color: $headings-color;
}

h1 { 
  font-size: $h1-font-size;
  line-height: 1.2;
  font-weight: $font-weight-bold;
}

h2 { 
  font-size: $h2-font-size;
  line-height: 1.25;
  font-weight: $font-weight-semibold;
}

h3 { 
  font-size: $h3-font-size;
  line-height: 1.3;
  font-weight: $font-weight-semibold;
}

h4 { 
  font-size: $h4-font-size;
  line-height: 1.35;
  font-weight: $font-weight-medium;
}

h5 { 
  font-size: $h5-font-size;
  line-height: 1.4;
  font-weight: $font-weight-medium;
}

h6 { 
  font-size: $h6-font-size;
  line-height: 1.45;
  font-weight: $font-weight-medium;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

// Add the correct font weight in Chrome, Edge, and Safari
b,
strong {
  font-weight: $font-weight-bold;
}

// Add the correct font size in all browsers
small {
  font-size: $small-font-size;
}

// Prevent `sub` and `sup` elements from affecting the line height in all browsers
sub,
sup {
  position: relative;
  font-size: 75%;
  line-height: 0;
  vertical-align: baseline;
}

sub { bottom: -0.25em; }
sup { top: -0.5em; }

// 3. Links
// ==========================

a {
  color: $link-color;
  text-decoration: $link-decoration;
  background-color: transparent; // Remove the gray background on active links in IE 10
  -webkit-text-decoration-skip: objects; // Remove gaps in links underline in iOS 8+ and Safari 8+
  
  @include hover() {
    color: $link-hover-color;
    text-decoration: $link-hover-decoration;
  }
  
  // And undo these styles for placeholder links/named anchors (without href)
  // which have not been made explicitly keyboard-focusable
  &:not([href]):not([class]) {
    color: inherit;
    text-decoration: none;
    
    @include hover() {
      color: inherit;
      text-decoration: none;
    }
  }
}

// 4. Paragraphs
// ==========================

p {
  margin-top: 0;
  margin-bottom: $paragraph-margin-bottom;
  line-height: $line-height-base;
}

// 5. Lists
// ==========================

// Reset list styles for ul, ol, and dl
ul,
ol,
dl {
  margin-top: 0;
  margin-bottom: 1rem;
  padding-left: 2rem;
}

// Nested lists
ul,
ol {
  ul,
  ol {
    margin-bottom: 0;
  }
}

// Description lists
// 1. Add the correct display in all browsers
dl {
  margin-top: 0; // Remove browser default
  margin-bottom: $spacer;
}

// 2. Add the correct display in all browsers
dt {
  font-weight: $dt-font-weight;
  margin-top: $spacer;
}

// 3. Add the correct display in all browsers
dd {
  margin-bottom: .5rem;
  margin-left: 0; // Undo browser default
}

// 6. Code
// ==========================

// Inline and block code styles
code,
kbd,
pre,
samp {
  font-family: $font-family-monospace;
  font-size: 1em; // Correct the odd `em` font sizing in all browsers
}

// Inline code
code {
  font-size: $code-font-size;
  color: $code-color;
  word-break: break-word;
  
  // Streamline the style when inside anchors to avoid broken underline and more
  a > & {
    color: inherit;
  }
}

// User input typically entered via keyboard
kbd {
  padding: $kbd-padding-y $kbd-padding-x;
  font-size: $kbd-font-size;
  color: $kbd-color;
  background-color: $kbd-bg;
  @include border-radius($border-radius-sm);
  @include box-shadow($kbd-box-shadow);

  kbd {
    padding: 0;
    font-size: 100%;
    font-weight: $nested-kbd-font-weight;
    @include box-shadow(none);
  }
}

// Blocks of code
pre {
  display: block;
  margin-top: 0;
  margin-bottom: 1rem;
  font-size: $code-font-size;
  color: $pre-color;
  
  // Account for some code outputs that place code tags in pre tags
  code {
    font-size: inherit;
    color: inherit;
    word-break: normal;
  }
}

// Enable scrollable blocks of code
.pre-scrollable {
  max-height: $pre-scrollable-max-height;
  overflow-y: scroll;
}

// 7. Figures
// ==========================

// 1. Add the correct box sizing and remove the margin in all browsers
figure {
  margin: 0 0 1rem;
}

// 8. Images and content
// ==========================

// 1. Workaround for the SVG overflow bug in IE10/11 is still required.
//    See https://github.com/twbs/bootstrap/issues/26878
svg {
  overflow: hidden;
  vertical-align: middle;
}

// 2. Responsive images (ensure images don't scale beyond their parents)
img {
  max-width: 100%;
  height: auto;
  vertical-align: middle;
  border-style: none; // Remove the border on images inside links in IE 10-.
}

// 3. Perfect circle
.img-thumbnail {
  padding: $thumbnail-padding;
  background-color: $thumbnail-bg;
  border: $thumbnail-border-width solid $thumbnail-border-color;
  @include border-radius($thumbnail-border-radius);
  @include box-shadow($thumbnail-box-shadow);
  
  // Keep them at most 100% wide but not squished
  max-width: 100%;
  height: auto;
}

// 9. Tables
// ==========================

table {
  border-collapse: collapse;
  width: 100%;
  margin-bottom: $spacer;
  background-color: $table-bg;
  
  th,
  td {
    padding: $table-cell-padding;
    vertical-align: top;
    border-top: $table-border-width solid $table-border-color;
  }
  
  thead th {
    vertical-align: bottom;
    border-bottom: (2 * $table-border-width) solid $table-border-color;
  }
  
  tbody + tbody {
    border-top: (2 * $table-border-width) solid $table-border-color;
  }
}

// 10. Forms
// ==========================

// 1. Change font properties to `inherit` in all browsers (opinionated).
// 2. Remove the margin in Firefox and Safari.
button,
input,
optgroup,
select,
textarea {
  margin: 0; // 2
  font-family: inherit; // 1
  font-size: inherit; // 1
  line-height: inherit; // 1
}

// Show the overflow in IE/Edge
button,
input {
  overflow: visible;
}

// Remove the inheritance of text transform in Edge, Firefox, and IE
button,
select {
  text-transform: none;
}

// Remove the default button styling in all browsers
button,
[type="button"],
[type="reset"],
[type="submit"] {
  appearance: button;
  -webkit-appearance: button;
  
  // Remove the inner border and padding in Firefox.
  &::-moz-focus-inner {
    padding: 0;
    border-style: none;
  }
  
  // Restore the focus styles unset by the previous rule.
  &:-moz-focusring {
    outline: 1px dotted ButtonText;
  }
}

// Correct the padding in Firefox
fieldset {
  padding: 0.35em 0.75em 0.625em;
}

// 1. Correct the text wrapping in Edge and IE.
// 2. Correct the color inheritance from `fieldset` elements in IE.
// 3. Remove the padding so developers are not caught out when they zero out
//    `fieldset` elements in all browsers.
legend {
  display: block;
  width: 100%;
  max-width: 100%; // 1
  padding: 0; // 3
  margin-bottom: .5rem;
  font-size: 1.5rem;
  line-height: inherit;
  color: inherit; // 2
  white-space: normal; // 1
}

// Add the correct vertical alignment in Chrome, Firefox, and Opera.
progress {
  vertical-align: baseline;
}

// Remove the default vertical scrollbar in IE 10+.
textarea {
  overflow: auto;
  resize: vertical;
}

// 1. Add the correct box sizing in IE 10-.
// 2. Remove the padding in IE 10-.
[type="checkbox"],
[type="radio"] {
  box-sizing: border-box; // 1
  padding: 0; // 2
}

// Correct the cursor style of increment and decrement buttons in Chrome.
[type="number"]::-webkit-inner-spin-button,
[type="number"]::-webkit-outer-spin-button {
  height: auto;
}

// 1. Correct the odd appearance in Chrome and Safari.
// 2. Correct the outline style in Safari.
[type="search"] {
  outline-offset: -2px; // 2
  appearance: none; // 1
  -webkit-appearance: none; // 1
}

// Remove the inner padding in Chrome and Safari on macOS.
[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}

// 1. Correct the inability to style clickable types in iOS and Safari.
// 2. Change font properties to `inherit` in Safari.
::-webkit-file-upload-button {
  font: inherit; // 2
  appearance: button; // 1
  -webkit-appearance: button; // 1
}

// 11. Interactive Elements
// ==========================

// Add the correct display in all browsers.
summary {
  display: list-item;
  cursor: pointer;
}

// Add the correct display in IE 10+.
template {
  display: none;
}

// Always hide an element with the `hidden` HTML attribute (from PureCSS).
[hidden] {
  display: none !important;
}

// 12. Print Styles
// ==========================

@media print {
  *,
  *::before,
  *::after {
    // Bootstrap specific; comment out `color` and `background`
    //color: #000 !important; // Black prints faster
    //background: transparent !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }

  a,
  a:visited {
    text-decoration: underline;
  }

  // Bootstrap specific; comment the following selector out
  //a[href]::after {
  //  content: " (" attr(href) ")";
  //  font-size: 80%;
  //}

  // Don't show links that are fragment identifiers,
  // or use the `javascript:` pseudo protocol
  a[href^="#"]::after,
  a[href^="javascript:"]::after {
    content: "";
  }

  pre,
  blockquote {
    border: 1px solid #999;
    page-break-inside: avoid;
  }

  // Printing Tables:
  // http://css-discuss.incutio.com/wiki/Printing_Tables
  thead {
    display: table-header-group;
  }

  tr,
  img {
    page-break-inside: avoid;
  }

  p,
  h2,
  h3 {
    orphans: 3;
    widows: 3;
  }

  h2,
  h3 {
    page-break-after: avoid;
  }

  // Bootstrap specific changes start
  // Reset page container
  .container {
    min-width: 992px !important;
  }
  
  // Reset the body's background color
  body {
    padding: 30px !important;
  }
  
  // Bootstrap components
  .navbar {
    display: none;
  }
  
  .table {
    border-collapse: collapse !important;
    
    td,
    th {
      background-color: #fff !important;
    }
  }
  
  .table-bordered {
    th,
    td {
      border: 1px solid #ddd !important;
    }
  }
  
  // Hide elements that shouldn't print
  .no-print,
  .no-print * {
    display: none !important;
  }
  
  // Show print-only elements
  .print-only {
    display: block !important;
  }
  
  // Ensure proper display of hidden-print elements
  .hidden-print {
    display: none !important;
  }
  
  // Ensure proper display of visible-print elements
  .visible-print {
    display: block !important;
  }
  
  table.visible-print {
    display: table !important;
  }
  
  thead.visible-print {
    display: table-header-group !important;
  }
  
  tbody.visible-print {
    display: table-row-group !important;
  }
  
  tr.visible-print {
    display: table-row !important;
  }
  
  th.visible-print,
  td.visible-print {
    display: table-cell !important;
  }
}
